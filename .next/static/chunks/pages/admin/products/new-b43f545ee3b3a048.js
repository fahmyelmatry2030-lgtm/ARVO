(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{4214:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/products/new",function(){return a(9262)}])},4477:function(e,r,a){"use strict";a.d(r,{Z:function(){return AdminLayout}});var t=a(5893),s=a(7294),n=a(1664),l=a.n(n),i=a(1163),o=a(3692),d=a(1772);let c=[{icon:o.m6D,label:"لوحة التحكم",href:"/admin/dashboard"},{icon:o.zFh,label:"المنتجات",href:"/admin/products"},{icon:o.x8h,label:"الطلبات",href:"/admin/orders"},{icon:o.E25,label:"العروض",href:"/admin/offers"},{icon:o.orK,label:"الإحصائيات",href:"/admin/analytics"}];function AdminLayout(e){let{children:r}=e,{admin:a,logoutAdmin:n}=(0,d.A)(),m=(0,i.useRouter)(),[u,h]=(0,s.useState)(!1);return a?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",dir:"rtl",children:[u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>h(!1)}),(0,t.jsxs)("aside",{className:"fixed top-0 right-0 h-full w-64 bg-gray-900 text-white z-50 transform transition-transform duration-300 lg:translate-x-0 ".concat(u?"translate-x-0":"translate-x-full"),children:[(0,t.jsxs)("div",{className:"h-16 flex items-center justify-between px-6 border-b border-gray-800",children:[(0,t.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary-400 to-secondary-400 bg-clip-text text-transparent",children:"لوحة التحكم"}),(0,t.jsx)("button",{onClick:()=>h(!1),className:"lg:hidden text-gray-400 hover:text-white",children:s.createElement(o.q5L,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold",children:a.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:a.name}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:a.email})]})]})}),(0,t.jsx)("nav",{className:"px-3 py-4 space-y-1",children:c.map(e=>{let r=m.pathname===e.href;return(0,t.jsxs)(l(),{href:e.href,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ".concat(r?"bg-gradient-to-r from-primary-500 to-secondary-500 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"),children:[s.createElement(e.icon,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",children:e.label})]},e.href)})}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800",children:(0,t.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all",children:[s.createElement(o.xqh,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",children:"تسجيل الخروج"})]})})]}),(0,t.jsxs)("div",{className:"lg:mr-64",children:[(0,t.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 z-30",children:[(0,t.jsx)("button",{onClick:()=>h(!0),className:"lg:hidden text-gray-600 hover:text-gray-900",children:s.createElement(o.cur,{className:"w-6 h-6"})}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)(l(),{href:"/",target:"_blank",className:"text-sm text-gray-600 hover:text-primary-600 transition-colors",children:"عرض الموقع ←"})})]}),(0,t.jsx)("main",{className:"p-6",children:r})]})]}):null}},1772:function(e,r,a){"use strict";a.d(r,{A:function(){return useAdmin}});var t=a(7294),s=a(1163);function useAdmin(){let[e,r]=(0,t.useState)(null),[a,n]=(0,t.useState)(!0),l=(0,s.useRouter)();(0,t.useEffect)(()=>{let e=localStorage.getItem("adminUser");if(e)try{r(JSON.parse(e))}catch(e){console.error("Error parsing admin data:",e),localStorage.removeItem("adminUser")}n(!1)},[]);let loginAdmin=async(e,a)=>{let t="admin@brand.com";if(e!==t||"admin123"!==a)return{success:!1,error:"البريد الإلكتروني أو كلمة المرور غير صحيحة"};{let e={id:"admin-1",email:t,name:"المدير",role:"admin"};return localStorage.setItem("adminUser",JSON.stringify(e)),r(e),{success:!0}}};return{admin:e,loading:a,isAdmin:!!e,loginAdmin,logoutAdmin:()=>{localStorage.removeItem("adminUser"),r(null),l.push("/admin/login")},requireAdmin:()=>{a||e||l.push("/admin/login")}}}},9262:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return NewProduct}});var t=a(5893),s=a(7294),n=a(9008),l=a.n(n),i=a(1163),o=a(4248),d=a(3692),c=a(4477),m=a(1772);function NewProduct(){let{requireAdmin:e,loading:r,admin:a}=(0,m.A)(),n=(0,i.useRouter)(),[u,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)({name:"",description:"",price:"",category:"",stock:"",image:""});if((0,s.useEffect)(()=>{e()},[a,r]),r||!a)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})});let handleSubmit=async e=>{e.preventDefault(),h(!0),await new Promise(e=>setTimeout(e,1e3)),console.log("Product data:",x),alert("تم إضافة المنتج بنجاح!"),n.push("/admin/products")},handleChange=e=>{g({...x,[e.target.name]:e.target.value})};return(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(l(),{children:(0,t.jsx)("title",{children:"إضافة منتج جديد | الإدارة"})}),(0,t.jsxs)("div",{className:"max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("button",{onClick:()=>n.back(),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[s.createElement(d.Rgz,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"رجوع"})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"إضافة منتج جديد"})]}),(0,t.jsxs)(o.E.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:handleSubmit,className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المنتج *"}),(0,t.jsx)("input",{type:"text",name:"name",required:!0,value:x.name,onChange:handleChange,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"مثال: قميص قطن رجالي"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف"}),(0,t.jsx)("textarea",{name:"description",value:x.description,onChange:handleChange,rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",placeholder:"وصف تفصيلي للمنتج..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"السعر (ريال) *"}),(0,t.jsx)("input",{type:"number",name:"price",required:!0,min:"0",step:"0.01",value:x.price,onChange:handleChange,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الكمية المتوفرة *"}),(0,t.jsx)("input",{type:"number",name:"stock",required:!0,min:"0",value:x.stock,onChange:handleChange,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الفئة *"}),(0,t.jsxs)("select",{name:"category",required:!0,value:x.category,onChange:handleChange,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"اختر الفئة"}),(0,t.jsx)("option",{value:"men",children:"ملابس رجالية"}),(0,t.jsx)("option",{value:"women",children:"ملابس نسائية"}),(0,t.jsx)("option",{value:"kids",children:"أطفال"}),(0,t.jsx)("option",{value:"accessories",children:"إكسسوارات"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رابط الصورة"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"url",name:"image",value:x.image,onChange:handleChange,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),(0,t.jsx)("button",{type:"button",className:"px-4 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"رفع صورة",children:s.createElement(d.Yjd,{className:"w-5 h-5 text-gray-600"})})]}),x.image&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)("img",{src:x.image,alt:"معاينة",className:"w-32 h-32 object-cover rounded-lg border border-gray-200",onError:e=>{e.target.src="https://via.placeholder.com/150?text=Invalid+Image"}})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"submit",disabled:u,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-secondary-500 text-white rounded-lg hover:shadow-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري الحفظ..."]}):(0,t.jsxs)(t.Fragment,{children:[s.createElement(d.mW3,{className:"w-5 h-5"}),"حفظ المنتج"]})}),(0,t.jsx)("button",{type:"button",onClick:()=>n.back(),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"إلغاء"})]})]})]})]})}},9008:function(e,r,a){e.exports=a(9201)}},function(e){e.O(0,[701,664,774,888,179],function(){return e(e.s=4214)}),_N_E=e.O()}]);